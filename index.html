<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ojo que sigue al mouse</title>
    <link rel="stylesheet" href="style.css"></link>
    <link rel="stylesheet" href="reset.css"></link>    
    <link href="img/icoBill.ico" rel="icon"></link>


</head>
<body>
    <!--cookies-->
<div id="cookie-banner" class="cookie-banner">
    <p>Este sitio utiliza cookies para mejorar tu experiencia. ¿Aceptas el uso de cookies?</p>
    <div class="cookie-buttons">
        <button id="accept-cookies">Aceptar</button>
        <button id="reject-cookies">Rechazar</button>
    </div>
</div>
    <!--cookies-->

    
<div class="bodys">
    <div class="disfraz">
        <img src="img/Nueva Dibujo.png"></img>
    </div>
    
    <a href="pagPrin.html">
        <div class="eye">
        <div class="pupil" id="pupil"></div>
        </div>
    </a>
    

    <script>
        const eye = document.querySelector('.eye');
        const pupil = document.getElementById('pupil');

        // Obtener las dimensiones del ojo
        const eyeRect = eye.getBoundingClientRect();
        const eyeCenterX = eyeRect.left + eyeRect.width / 2;
        const eyeCenterY = eyeRect.top + eyeRect.height / 2;

        // Función para mover la pupila
        function movePupil(event) {
            const mouseX = event.clientX;
            const mouseY = event.clientY;

            // Calcular la distancia desde el centro del ojo hasta el puntero
            const deltaX = mouseX - eyeCenterX;
            const deltaY = mouseY - eyeCenterY;
            const distanceFromCenter = Math.sqrt(deltaX ** 2 + deltaY ** 2);

            // Si el mouse está cerca del centro (radio de la pupila), coloca la pupila en el centro
            const maxDistance = eyeRect.width / 4;

            if (distanceFromCenter < 10) {
                pupil.style.transform = 'translate(0, 0)'; // Centrar pupila
            } else {
                // Calcular el ángulo y la posición de la pupila
                const angle = Math.atan2(deltaY, deltaX);
                const distance = Math.min(maxDistance, distanceFromCenter); // Limitar el movimiento

                const pupilX = Math.cos(angle) * distance;
                const pupilY = Math.sin(angle) * distance;

                pupil.style.transform = `translate(${pupilX}px, ${pupilY}px)`;
            }
        }

        // Detectar movimiento del mouse
        document.addEventListener('mousemove', movePupil);

        //cookies
    const cookieBanner = document.getElementById("cookie-banner");

    // Si ya tomó una decisión antes, ocultar el banner
    if (localStorage.getItem("cookiesDecision")) {
        cookieBanner.style.display = "none";
    }

    // Botón aceptar
    document.getElementById("accept-cookies").addEventListener("click", () => {
        localStorage.setItem("cookiesDecision", "accepted");
        cookieBanner.style.display = "none";
    });

    // Botón rechazar
    document.getElementById("reject-cookies").addEventListener("click", () => {
        localStorage.setItem("cookiesDecision", "rejected");
        cookieBanner.style.display = "none";
    });

    </script>
</div>
</body>
</html>



